

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Performance Analysis of AutoDist &mdash; AutoDist  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/customized.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Getting Started" href="tutorials/getting-started.html" />
    <link rel="prev" title="Introduction" href="../README.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../README.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../README.html#using-autodist">Using AutoDist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../README.html#references-acknowledgements">References &amp; Acknowledgements</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Performance</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorials/getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/multi-node.html">Train on Multiple Nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/save-restore.html">Save and Restore Training</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/docker.html">Train with Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/choose-strategy.html">Choose Strategy Builders</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/customize-strategy.html">Customize a Strategy Builder</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../design/rationale.html">Rationale</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design/architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design/kernels.html">Graph Transformation Kernels</a></li>
<li class="toctree-l1"><a class="reference internal" href="proto_docgen.html">Strategy as ProtoBuf Message</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/autodist.html">Developer API References</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../api/autodist.checkpoint.html">Checkpoint</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.checkpoint.saved_model_builder.html">Saved Model Builder</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.checkpoint.saver.html">Saver</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api/autodist.kernel.html">Kernel</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.kernel.common.html">Common</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/autodist.kernel.common.op_info.html">Op Info</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/autodist.kernel.common.proxy_variable.html">Proxy Variable</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/autodist.kernel.common.utils.html">Utils</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/autodist.kernel.common.variable_utils.html">Variable Utils</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.kernel.device.html">Device</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/autodist.kernel.device.resolver.html">Resolver</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.kernel.synchronization.html">Synchronization</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/autodist.kernel.synchronization.all_reduce_synchronizer.html">All Reduce Synchronizer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/autodist.kernel.synchronization.collective_key.html">Collective Key</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/autodist.kernel.synchronization.compressor.html">Compressor</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/autodist.kernel.synchronization.ps_synchronizer.html">Ps Synchronizer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/autodist.kernel.synchronization.synchronizer.html">Synchronizer</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.kernel.graph_transformer.html">Graph Transformer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.kernel.kernel.html">Kernel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.kernel.partitioner.html">Partitioner</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.kernel.replicator.html">Replicator</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api/autodist.proto.html">Proto</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.proto.graphitem_pb2.html">Graphitem Pb2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.proto.strategy_pb2.html">Strategy Pb2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.proto.synchronizers_pb2.html">Synchronizers Pb2</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api/autodist.strategy.html">Strategy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.strategy.all_reduce_strategy.html">All Reduce Strategy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.strategy.base.html">Base</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.strategy.parallax_strategy.html">Parallax Strategy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.strategy.partitioned_all_reduce_strategy.html">Partitioned All Reduce Strategy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.strategy.partitioned_ps_strategy.html">Partitioned Ps Strategy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.strategy.ps_lb_strategy.html">Ps Lb Strategy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.strategy.ps_strategy.html">Ps Strategy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.strategy.random_axis_partition_all_reduce_strategy.html">Random Axis Partition All Reduce Strategy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.strategy.uneven_partition_ps_strategy.html">Uneven Partition Ps Strategy</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api/autodist.utils.html">Utils</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.utils.logging.html">Logging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.utils.network.html">Network</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.utils.server_starter.html">Server Starter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.utils.visualization_util.html">Visualization Util</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api/autodist.autodist.html">Autodist</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/autodist.cluster.html">Cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/autodist.const.html">Const</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/autodist.coordinator.html">Coordinator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/autodist.graph_item.html">Graph Item</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/autodist.patch.html">Patch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/autodist.remapper.html">Remapper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/autodist.resource_spec.html">Resource Spec</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/autodist.runner.html">Runner</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AutoDist</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Performance Analysis of AutoDist</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/usage/performance.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="performance-analysis-of-autodist">
<h1>Performance Analysis of AutoDist<a class="headerlink" href="#performance-analysis-of-autodist" title="Permalink to this headline">¶</a></h1>
<p>The primary motivation of AutoDist is to build a scalable ML engine for distributed TensorFlow model training. AutoDist provides different distributed training strategies that also inlcude some latest distributed strategies. In order to report the performance of AutoDist for different strategies across different deep learning models, we benchmark its performance with Tensorflow and a state-of-the-art distributed training framework.</p>
<div class="section" id="experiment-setup">
<h2>Experiment Setup<a class="headerlink" href="#experiment-setup" title="Permalink to this headline">¶</a></h2>
<div class="section" id="dataset-and-model">
<h3>Dataset and Model<a class="headerlink" href="#dataset-and-model" title="Permalink to this headline">¶</a></h3>
<p>We benchmark AutoDist with Horovod on the dataset of ImageNet across ResNet101, DenseNet121, InceptionV3 and VGG16, which are four state-of-the-arts convolutional neural networks, and also on a sample dataset for pre-training the BERT-large, uncased model (https://github.com/google-research/bert). Our experiments were done with at most sixteen AWS server instances with type g4dn.12xlarge which have 4 NVIDIA T4 GPUs each connected by a 50 Gbit/s network. In order to show the performance under different scale of GPUs, we respectively perform experiments with one server, two servers, four servers, eight servers and sixteen servers. All the experiments were performed in Tensorflow 2.0.1 with CUDA 10.0.130 and CUDNN 7.6.5. AutoDist and Horovod were run in the exactly same environment and setting of instances.</p>
</div>
<div class="section" id="strategy-configuration">
<h3>Strategy Configuration<a class="headerlink" href="#strategy-configuration" title="Permalink to this headline">¶</a></h3>
<p>In AutoDist, we adopt five distributed strategies: PS, PartitionedPS, PSLoadBalancing, AllReduce and Parallax. In the strategy of AllReduce and Parallax, we use Ring-based AllReduce algorithm with PowerSGD compressor and chunk size set to 512 for DenseNet121 and 256 for ResNet101. The code we use for running autodist on these experiments can be checked out following <a class="reference external" href="https://github.com/petuum/autodist/tree/master/examples/benchmark">this link</a>.</p>
</div>
</div>
<div class="section" id="performance-comparison">
<h2>Performance Comparison<a class="headerlink" href="#performance-comparison" title="Permalink to this headline">¶</a></h2>
<p>We summarize the performance in a figure below. We can find different models achieve the best performance with different AutoDist strategy. The performance per GPU is stable with different number of used GPUs, which suggests AutoDist has a good scalability with increased GPUs.</p>
<p><img alt="per gpu performance" src="../_images/figure1.png" /></p>
<p><img alt="overall performance" src="../_images/figure2.png" /></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tutorials/getting-started.html" class="btn btn-neutral float-right" title="Getting Started" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../README.html" class="btn btn-neutral float-left" title="Introduction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Petuum

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>