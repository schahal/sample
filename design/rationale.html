

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Rationale &mdash; AutoDist  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/customized.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Architecture" href="architecture.html" />
    <link rel="prev" title="FAQ" href="../usage/faq.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../README.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../README.html#using-autodist">Using AutoDist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../README.html#references-acknowledgements">References &amp; Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/performance.html">Performance</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../usage/tutorials/getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/tutorials/multi-node.html">Train on Multiple Nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/tutorials/save-restore.html">Save and Restore Training</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/tutorials/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/tutorials/docker.html">Train with Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/tutorials/choose-strategy.html">Choose Strategy Builders</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/tutorials/customize-strategy.html">Customize a Strategy Builder</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/faq.html">FAQ</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Rationale</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="kernels.html">Graph Transformation Kernels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/proto_docgen.html">Strategy as ProtoBuf Message</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/autodist.html">Developer API References</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../api/autodist.checkpoint.html">Checkpoint</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.checkpoint.saved_model_builder.html">Saved Model Builder</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.checkpoint.saver.html">Saver</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api/autodist.kernel.html">Kernel</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.kernel.common.html">Common</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/autodist.kernel.common.op_info.html">Op Info</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/autodist.kernel.common.proxy_variable.html">Proxy Variable</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/autodist.kernel.common.utils.html">Utils</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/autodist.kernel.common.variable_utils.html">Variable Utils</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.kernel.device.html">Device</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/autodist.kernel.device.resolver.html">Resolver</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.kernel.synchronization.html">Synchronization</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/autodist.kernel.synchronization.all_reduce_synchronizer.html">All Reduce Synchronizer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/autodist.kernel.synchronization.collective_key.html">Collective Key</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/autodist.kernel.synchronization.compressor.html">Compressor</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/autodist.kernel.synchronization.ps_synchronizer.html">Ps Synchronizer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/autodist.kernel.synchronization.synchronizer.html">Synchronizer</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.kernel.graph_transformer.html">Graph Transformer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.kernel.kernel.html">Kernel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.kernel.partitioner.html">Partitioner</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.kernel.replicator.html">Replicator</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api/autodist.proto.html">Proto</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.proto.graphitem_pb2.html">Graphitem Pb2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.proto.strategy_pb2.html">Strategy Pb2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.proto.synchronizers_pb2.html">Synchronizers Pb2</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api/autodist.strategy.html">Strategy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.strategy.all_reduce_strategy.html">All Reduce Strategy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.strategy.base.html">Base</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.strategy.parallax_strategy.html">Parallax Strategy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.strategy.partitioned_all_reduce_strategy.html">Partitioned All Reduce Strategy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.strategy.partitioned_ps_strategy.html">Partitioned Ps Strategy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.strategy.ps_lb_strategy.html">Ps Lb Strategy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.strategy.ps_strategy.html">Ps Strategy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.strategy.random_axis_partition_all_reduce_strategy.html">Random Axis Partition All Reduce Strategy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.strategy.uneven_partition_ps_strategy.html">Uneven Partition Ps Strategy</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api/autodist.utils.html">Utils</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.utils.logging.html">Logging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.utils.network.html">Network</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.utils.server_starter.html">Server Starter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/autodist.utils.visualization_util.html">Visualization Util</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api/autodist.autodist.html">Autodist</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/autodist.cluster.html">Cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/autodist.const.html">Const</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/autodist.coordinator.html">Coordinator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/autodist.graph_item.html">Graph Item</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/autodist.patch.html">Patch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/autodist.remapper.html">Remapper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/autodist.resource_spec.html">Resource Spec</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/autodist.runner.html">Runner</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AutoDist</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Rationale</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/design/rationale.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="rationale">
<h1>Rationale<a class="headerlink" href="#rationale" title="Permalink to this headline">¶</a></h1>
<div class="section" id="motivation">
<h2>Motivation<a class="headerlink" href="#motivation" title="Permalink to this headline">¶</a></h2>
<p>As machine learning models become more structurally complex, existing distributed ML systems have struggled to provide
excellent <em>all-round</em> performance on a wide variety of models, since most of them are specialized upon one monolithic system architecture or technology.
For examples, Horovod is built upon MPI and AllReduce, and believed to work well with dense parameter variables like those found in CNNs, but exhibits limitations on
synchronizing sparse parameter variables like those embedding layers found in many NLP models. In contrast, many parameter server based systems are reported to be better-suited with NLP models than on CNNs.</p>
<p>Unlike existing systems, AutoDist is motivated by the fact that different ML models (or different components in a complex model) exhibit different runtime characteristics, and different learning algorithms demonstrate distinct computational patterns, which demand model and algorithm-aware system or parallelization treatments for distributed execution performance, illustrated below.</p>
<a class="reference internal image-reference" href="../_images/motivation.png"><img alt="Motivation Example" class="align-center" src="../_images/motivation.png" style="width: 450px;" /></a>
<p>AutoDist distributes an incoming model by first analyzing the computational graph of an incoming model. Depending on the detailed characteristics of model building blocks and resource specifications, AutoDist achieves adaptiveness by composing various, seemingly different, atomic distributed ML techniques together as a <em>distribution strategy</em>, a unified model- and resource-depdent representation which instructs how the model should be parallelized on the target cluster. It then transforms the original single-node computational graph based on the generated strategy to a distributed one, running on distributed clusters.</p>
</div>
<div class="section" id="rationale-and-features">
<h2>Rationale and Features<a class="headerlink" href="#rationale-and-features" title="Permalink to this headline">¶</a></h2>
<p>In designing AutoDist, we focus on <em>composability</em> and <em>resuability</em> of individual ML parallelization building block, and <em>extensibility</em> to future emerging distributed ML techniques.</p>
<p>The figure below contrasts AutoDist (lower) with most existing distributed ML systems (upper).</p>
<a class="reference internal image-reference" href="../_images/others.png"><img alt="Others" class="align-center" src="../_images/others.png" style="width: 450px;" /></a>
<a class="reference internal image-reference" href="../_images/autodist-arch.png"><img alt="Ours" class="align-center" src="../_images/autodist-arch.png" style="width: 450px;" /></a>
<p>AutoDist offers the following competitive features over existing parallel ML training systems:</p>
<ul class="simple">
<li><p><strong>Unified representation for DL parallelization</strong>. AutoDist develops a unified representation that encodes multiple contributing factors to DL parallelization performance. The strategy is explicitly represented, executable by low-level systems, and transferable across users.</p></li>
<li><p><strong>Composable system architecture.</strong> AutoDist allows for strategy composition – each aspect of DL parallelization maps to a primitive dataflow graph rewriting kernel in the backend system. A complete synchronization strategy is hence materialized by composing multiple primitive kernels, based on the strategy representation. This approach isolates strategy prototyping from low-level distributed systems, allows composition, assessment and execution of complex synchronization strategies via a unified interface, and is extensible to emerging synchronization techniques.</p></li>
<li><p><strong>Automatic strategy optimization</strong>. The introduced representation spans a combinatorial space enclosing all possible strategies (i.e. assignments of parallelization aspects to model building blocks). AutoDist builds a strategy auto-optimization pipeline to efficiently optimize strategies against model and resources, which not only improves parallel performance, but is also an added convenience for users. The optimizer is built on top of both principled system modeling and a data-driven ML models trained on low-shot trial-run data, and can improve as more data is acquired.</p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="architecture.html" class="btn btn-neutral float-right" title="Architecture" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../usage/faq.html" class="btn btn-neutral float-left" title="FAQ" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Petuum

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>